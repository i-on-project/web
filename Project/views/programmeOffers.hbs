<div class="container-fluid pageBeginning">
    <h3 class="text-center">Plano Curricular</h3>
    <form method="post" action="/programmeOffers/classes">
    <div class="row row-content">
    {{#each programmeOffersByTerms}}
        <div class="col-md-6 divSpacing">
            <h4 class="text-center">{{@key}}º Semestre</h4>
            <table class="table table-bordered">
                <tr>
                    <th>Unidade Curricular</th>
                    <th class="text-center">ECTS</th>
                    <th class="text-center">Área</th>
                    <th class="text-center">Obrigatória</th>
                    <th class="text-center">
                        <input type="checkbox" onClick="toggle(this, {{@key}})">
                    </th>
                </tr>
                {{#each this}} 
                    <tr class="border_bottom">
                        <td class="col-md-2">{{this.name}}</td>
                        <td class="col-md-1 text-center">{{this.ects}}</td>
                        <td class="col-md-1 text-center">{{this.scientificArea}}</td>
                        <td class="col-md-1 text-center">
                            {{#if this.optional}}
                                <i class="fa fa-times" aria-hidden="true"></i>
                            {{else}}
                                <i class="fa fa-check" aria-hidden="true"></i>
                            {{/if}}
                        </td>
                        <td class="col-md-1 text-center">
                            {{#if this.optional}}
                                <input type="checkbox" value={{this.courseId}}>
                            {{else}}
                                <input type="checkbox" name={{this.termNumber}} value={{this.courseId}}>
                            {{/if}}
                        </td>
                    </tr>
                {{/each}}
            </table>
        </div>
    {{/each}}
    </div>
    <div class="divSpacing text-center">
      <input class="btn btn-dark btn-lg btn-block" type="submit" value="Concluir selecção"/>
    </div>
    </form>
</div>


<script>

    function toggle(source, term) {
        checkboxes = document.getElementsByName(term);
    
        for(let i = 0, n = checkboxes.length; i<n ; i++) {

            checkboxes[i].checked = source.checked;
        }
    }

</script>